# Multi Prompt Chain

**Multi Prompt Chain** 노드는 입력된 질문에 따라 가장 적절한 프롬프트를 자동으로 선택하고, 선택된 프롬프트로 LLM 응답을 생성하는 체인입니다.\
다양한 시나리오에 맞는 프롬프트를 미리 준비해 두면, 입력 질문에 따라 동적으로 프롬프트를 분기하여 처리할 수 있습니다.

***

### 주요 기능

* 입력에 따라 여러 프롬프트 중 하나를 자동 선택
* 선택된 프롬프트를 기반으로 LLM 응답 생성
* Chain Tool 등과 함께 연계하면 응답 흐름을 확장 가능

<figure><img src="../../../.gitbook/assets/스크린샷 2025-05-09 171800.png" alt=""><figcaption><p>WindyFlo Multi Prompt Chain</p></figcaption></figure>

### 입력값 (Inputs)

| 항목                   | 설명                                               | 필수 여부 |
| -------------------- | ------------------------------------------------ | ----- |
| **Language Model**   | 선택된 프롬프트로 응답을 생성할 LLM (예: OpenAI Chat, Claude 등) | 필수    |
| **Prompt 리스트**       | JSON 또는 파일 내 여러 개의 프롬프트 집합 (별도 노드에서 준비 필요)       | 필수    |
| **Input Moderation** | 입력값에 대한 유해 콘텐츠 필터링 기능                            | 선택    |

***

### 출력값 (Outputs)

| 항목                   | 설명                   |
| -------------------- | -------------------- |
| **MultiPromptChain** | 선택된 프롬프트로 생성된 텍스트 응답 |

***

### 활용 예시

* **고객 질문 유형 자동 분기**
  * 질문 내용이 "계정", "결제", "기술지원"에 따라 각각 다른 프롬프트를 적용하여 응답 처리
* **문체 선택형 응답 생성기**
  * “부드럽게 말해줘”, “딱딱하게 설명해줘” 등 다양한 스타일에 맞는 프롬프트 자동 선택
* **다국어 응답 분기**
  * 입력 언어에 따라 "한국어 응답 프롬프트", "영어 응답 프롬프트" 자동 분기 구성

***

### 사용 팁

* 프롬프트 리스트는 JSON, CSV, 또는 텍스트 파일로 구성해 `Read File` 노드로 불러온 뒤 `Custom Tool`에서 분기 조건을 구현할 수 있습니다.
* 응답 후 `Write File`로 저장하거나, `Chain Tool`과 연결해 후속 처리 가능

***

### 주의사항

* WindyFlo에는 자동 프롬프트 검색 전용 노드(Retriever 등)가 없으므로, **프롬프트 선택 로직은 직접 구현**해야 합니다.
* 조건 분기를 하려면 `Custom Tool` 또는 `Chain Tool` 내에서 입력 값을 기반으로 분기 로직을 작성해야 합니다.
* 프롬프트 내부에는 반드시 `{question}` 또는 `{input}` 형태의 변수명을 명시해야 동작합니다.

***

**Multi Prompt Chain**은 다양한 입력 상황에 따라 다른 응답 전략을 적용하고자 할 때 유용한 노드입니다.\
WindyFlo 내 기본 구성 요소만으로도 충분히 프롬프트 분기 시스템을 구현할 수 있습니다.
